# 03 围棋规则

## 基础规则

### 棋具
- **棋盘**：19×19（361个交叉点）
- **棋子**：黑181枚，白180枚
- **星位**：9个标记点，中心为天元

### 对局
1. **黑先白后**：黑棋先行
2. **交替落子**：在交叉点上
3. **贴目**：白棋贴6.5或7.5目

### 核心概念

#### 气
```
角上2气  边上3气  中央4气
  ●        ●         · 
  ·        · ·      · ● ·
                      ·
```

#### 提子
当棋串没有气时被提走：
```rust
pub fn count_liberties(group: &HashSet<(i32, i32)>) -> usize {
    // 计算棋串的气数
}
```

#### 禁入点
不能自杀，除非能提对方子

#### 打劫
```rust
pub ko_position: Option<(i32, i32)>  // 记录劫点，防止立即回提
```

## 基本技巧

### 死活
- **两眼活棋**：有两个真眼的棋永不死
- **假眼**：会被破的眼

### 基本手筋
- **征子**（梯子攻击）
- **枷**（关门吃）
- **扑**（填眼杀棋）

## 程序实现

### 合法性检查
```rust
fn is_valid_move(board_state: &BoardState, x: i32, y: i32) -> bool {
    // 1. 边界检查
    // 2. 位置是否为空
    // 3. 是否违反打劫
    // 4. 是否自杀
}
```

### 提子逻辑
```rust
fn capture_stones(board_state: &mut BoardState, x: i32, y: i32) {
    // 1. 检查相邻敌子
    // 2. 计算气数
    // 3. 移除无气棋串
}
```